---
- file:
    state: absent
    path: /tmp/async_configs
- file:
    state: directory
    path: /tmp/async_configs
- include_role: {name: corpusops.roles/async_configs}
  vars:
    cops_async_configs_templates:
      - dest: /tmp/async_configs/t
      - dest: /tmp/async_configs/i
        src: ../templates/tmp/async_configs/g
      - dest: /tmp/async_configs/test
        content: foobar
        # other supported params
        # src:
        # force:
        # mode:
        # owner:
        # group:
        # trim_blocks:
    cops_async_configs_configs:
      - dest: /tmp/async_configs/f
      - dest: /tmp/async_configs/h
        template: ../templates/tmp/async_configs/g
        # other supported params
        # src:
        # force:
        # mode:
        # owner:
        # group:
        # recurse:
    # cops_async_retry_delay: 1
    # cops_async_retries: "{{10**5}}"
    # cops_async_configs_notify
    # cops_async_configs_configs_notify
    # cops_async_configs_templates_notify
