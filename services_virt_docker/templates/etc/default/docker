# Docker Upstart and SysVinit configuration file
# {{ ansible_managed }}
# {% set settings = corpusops_services_virt_docker_vars.settings %}

# If you need Docker to use an HTTP proxy, it can also be specified here.
# {% if settings.http_proxy %}
export http_proxy="{{settings.http_proxy}}"
# {% else %}
#export http_proxy="http://127.0.0.1:3128/"
# {% endif %}

# This is also a handy place to tweak where Docker's temporary files go.
# {% if settings.TMPDIR %}
export TMPDIR="{{settings.TMPDIR}}"
# {% else %}
#export TMPDIR="/mnt/bigdrive/docker-tmp"
# {% endif %}

export DOCKERD="{{ settings.DOCKERD }}"
export DOCKER_LOG_OPTIONS="{{ settings.DOCKER_LOG_OPTIONS}}"
export DOCKER_STORAGE_OPTIONS="{{ settings.DOCKER_STORAGE_OPTIONS}}"
export DOCKER_NETWORK_OPTIONS="{{ settings.DOCKER_NETWORK_OPTIONS }}"
export BLOCK_REGISTRY="{{ settings.BLOCK_REGISTRY }}"
export INSECURE_REGISTRY="{{ settings.INSECURE_REGISTRY  }}"
export DOCKER_OPTS="${DOCKER_OPTS} ${DOCKER_STORAGE_OPTIONS} ${DOCKER_NETWORK_OPTIONS}"
export DOCKER_OPTS="${DOCKER_OPTS} ${BLOCK_REGISTRY} ${INSECURE_REGISTRY}"
export DOCKER_OPTS="${DOCKER_OPTS} ${DOCKER_LOG_OPTIONS}"
export DOCKER_OPTS="${DOCKER_OPTS} {{settings.DOCKER_OPTS}}"
